<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONCEPTOS BÁSICOS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css')}}">
</head>
    
</head>
    <body class="fondo-personalizado text-white">

    <p class="p-2 text-bg-secondary text-center fw-bold fs-1">Mapa Conceptual: Metodos de clasificacion</p>

    <div class="container mt-4">
    <div class="custom-card text-center">
        <h3>Mapa Conceptual</h3>

        <div id="mapa-container" class="bg-white text-dark">
        Cargando mapa...
        </div>

    
        <div class="zoom-controls">
        <button id="zoom-in" class="btn btn-sm btn-dark">+</button>
        <button id="zoom-out" class="btn btn-sm btn-dark">-</button>
        <button id="reset" class="btn btn-sm btn-secondary">⟳</button>
        </div>
    </div>
    </div>

    
    <script>
    const container = document.getElementById("mapa-container");
    const zoomInButton = document.getElementById("zoom-in");
    const zoomOutButton = document.getElementById("zoom-out");
    const resetButton = document.getElementById("reset");

    let scale = 1;
    let panX = 0;
    let panY = 0;
    let isPanning = false;
    let startX = 0;
    let startY = 0;
    let svgElement = null;

    fetch("{{ url_for('static', filename='mapa_conceptual_ml.svg') }}")
        .then(r => r.text())
        .then(svgContent => {
        container.innerHTML = svgContent;
        svgElement = container.querySelector("svg");
        if (svgElement) {
            svgElement.style.transformOrigin = "0 0";
            applyTransform();
        }
        });

    function applyTransform() {
        if (svgElement) {
        svgElement.style.transform =
            `translate(${panX}px, ${panY}px) scale(${scale})`;
        }
    }

    // Conectar los botones
    zoomInButton.addEventListener("click", () => {
        scale = Math.min(5, scale * 1.2);
        applyTransform();
    });
    zoomOutButton.addEventListener("click", () => {
        scale = Math.max(0.2, scale / 1.2);
        applyTransform();
    });
    resetButton.addEventListener("click", () => {
        scale = 1;
        panX = 0;
        panY = 0;
        applyTransform();
    });

    // Arrastrar con el mouse
    container.addEventListener("mousedown", (e) => {
        e.preventDefault();
        isPanning = true;
        startX = e.clientX - panX;
        startY = e.clientY - panY;
        container.style.cursor = "grabbing";
    });

    window.addEventListener("mouseup", () => {
        isPanning = false;
        container.style.cursor = "default";
    });

    window.addEventListener("mousemove", (e) => {
        if (!isPanning) return;
        panX = e.clientX - startX;
        panY = e.clientY - startY;
        applyTransform();
    });
    </script>

    <div class="container mt-5 px-0">
        <div class="d-flex flex-row flex-wrap gap-5 justify-content-start">
        <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                A7- Tipos de Algoritmos de Clasificación
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/ConceptosBasicosRandomForest">Conceptos básicos</a></li>
                <li><a class="dropdown-item" href="/diabetes">Ejercicio práctico</a></li>
            </ul>
        </div>
    </div>

    <a href="/" class="btn-return position-fixed bottom-0 start-0 m-3">VOLVER AL INICIO</a>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>